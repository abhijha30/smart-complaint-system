<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Complaint System</title>
<link href="style.css" rel="stylesheet">
<script>
const API_URL = "/api"; // serverless route

async function submitComplaint() {
    const name = document.getElementById("name").value;
    const email = document.getElementById("email").value;
    const complaint = document.getElementById("complaint").value;

    const res = await fetch(`${API_URL}/submit`, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({ name, email, complaint })
    });
    const data = await res.json();
    alert(data.message);
    document.getElementById("form").reset();
}
</script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
<div class="bg-white p-6 rounded shadow-md w-full max-w-md">
    <h1 class="text-2xl font-bold mb-4 text-center">Submit Your Complaint</h1>
    <form id="form" onsubmit="event.preventDefault(); submitComplaint();">
        <input type="text" id="name" placeholder="Your Name" class="w-full p-2 mb-3 border rounded" required/>
        <input type="email" id="email" placeholder="Your Email" class="w-full p-2 mb-3 border rounded" required/>
        <textarea id="complaint" placeholder="Your Complaint" class="w-full p-2 mb-3 border rounded h-32" required></textarea>
        <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600">Submit</button>
    </form>
</div>
</body>
</html>
